import { useRef, useEffect } from "react";
import "./HeartAnimation.css";

const HeartAnimation = () => {
  const pathRef = useRef(null);

  useEffect(() => {
    const path = pathRef.current;
    if (!path) return;
    const length = path.getTotalLength();

    path.style.strokeDasharray = length;
    path.style.strokeDashoffset = length;
  }, []);

  return (
   <>
   <div className="container1">
      <svg
        viewBox="-40 5 1035 902"
        fill="none"
        xmlns="http://www.w3.org/2000/svg"
        className="heart-animation-svg"
      >

        <path
          d="M132.288 642.677C132.296 643.556 132.649 644.343 133.268 644.863C133.888 645.383 134.723 645.595 135.591 645.451L158.504 641.65L158.713 664.876C158.736 665.743 159.095 666.514 159.712 667.022C160.33 667.53 161.157 667.735 162.015 667.593C162.874 667.45 163.694 666.972 164.301 666.261C164.908 665.55 165.251 664.662 165.259 663.79L165.019 637.248C165.011 636.368 164.659 635.581 164.039 635.061C163.42 634.541 162.585 634.329 161.717 634.473L135.531 638.817C134.663 638.961 133.834 639.448 133.226 640.172C132.618 640.896 132.281 641.797 132.288 642.677Z"
          fill="#4D2E5A"
          className="animation1"
        />

        <path
          d="M140.778 563.25L103.578 635.4V669H74.0275V635.4L36.8275 563.25H70.4275L89.0275 604.05L107.628 563.25H140.778ZM310.806 670.05C300.906 670.05 291.806 667.75 283.506 663.15C275.206 658.45 268.606 652 263.706 643.8C258.906 635.5 256.506 626.15 256.506 615.75C256.506 605.35 258.906 596.05 263.706 587.85C268.606 579.55 275.206 573.1 283.506 568.5C291.806 563.9 300.906 561.6 310.806 561.6C320.806 561.6 329.906 563.9 338.106 568.5C346.406 573.1 352.956 579.55 357.756 587.85C362.556 596.05 364.956 605.35 364.956 615.75C364.956 626.15 362.556 635.5 357.756 643.8C352.956 652 346.406 658.45 338.106 663.15C329.806 667.75 320.706 670.05 310.806 670.05ZM310.806 642.75C318.306 642.75 324.206 640.3 328.506 635.4C332.906 630.5 335.106 623.95 335.106 615.75C335.106 607.35 332.906 600.75 328.506 595.95C324.206 591.05 318.306 588.6 310.806 588.6C303.206 588.6 297.256 591.05 292.956 595.95C288.656 600.75 286.506 607.35 286.506 615.75C286.506 624.05 288.656 630.65 292.956 635.55C297.256 640.35 303.206 642.75 310.806 642.75Z"
          fill="#4D2E5A"
          className="animation1"
        />

        <path
          d="M165.919 572.82C173.51 566.91 181.341 563.284 189.413 561.943C197.499 560.479 205.211 561.285 212.548 564.36C219.885 567.435 226.295 572.494 231.779 579.537C237.209 586.513 240.482 593.96 241.595 601.88C242.777 609.747 241.721 617.489 238.426 625.107C235.146 632.603 229.745 639.28 222.222 645.136L193.604 667.418L137.3 595.102L165.919 572.82ZM206.867 628.589C212.748 624.01 216.113 618.809 216.962 612.986C217.81 607.163 215.945 601.311 211.366 595.43C206.734 589.481 201.491 586.203 195.638 585.598C189.732 584.925 183.838 586.877 177.957 591.456L170.982 596.887L199.892 634.019L206.867 628.589Z"
          fill="#4D2E5A"
          className="animation1"
        />

        <path
          d="M244.16 584.395L245.676 561.132C245.726 560.361 245.49 559.603 245.02 559.025C244.549 558.446 243.882 558.095 243.167 558.049L221.576 556.642C221.042 556.606 220.508 556.742 220.042 557.032C219.577 557.323 219.201 557.755 218.961 558.273C218.722 558.792 218.63 559.374 218.698 559.946C218.766 560.517 218.99 561.053 219.342 561.484L227.608 571.636L160.328 635.269L163.881 639.636L231.156 575.996L239.416 586.154C239.767 586.586 240.23 586.895 240.747 587.042C241.264 587.189 241.811 587.167 242.319 586.978C242.827 586.79 243.274 586.444 243.601 585.984C243.929 585.524 244.124 584.971 244.16 584.395Z"
          fill="#4D2E5A"
          className="animation1"
        />

        <path
          d="M-26.5721 0C-26.5721 0 110.06 9.91829 165.5 68.5897C220.94 127.261 214.588 187.273 251.67 270.866C288.753 354.459 372.571 386.217 421.225 393.798C469.878 401.378 614.506 383.129 658.165 314.622C689.273 265.808 613.36 254.145 532.087 314.622C564.168 254.145 510.31 162.719 464.7 193.774C390.141 244.537 488.611 368.795 488.611 368.795C488.611 368.795 558.545 446.632 573.15 544.725C597.517 708.389 511.621 805.689 377.897 819.569C345.637 822.917 226.969 823.443 165.5 760.243C104.031 697.042 160.229 638.317 160.229 638.317"
          stroke="url(#paint0_linear_13_331)"
          strokeWidth="5.09325"
          ref={pathRef}
          className="animated-path"
        />
        <defs>
          <linearGradient
            id="paint0_linear_13_331"
            x1="344.411"
            y1="35.1089"
            x2="314.328"
            y2="797"
            gradientUnits="userSpaceOnUse"
          >
            <stop offset="0.420416" stopColor="#F6CCB6" />

            <stop offset="0.75" stopColor="#4D2E5A" />
          </linearGradient>

          <clipPath id="clip0_13_331">
            <rect width="1280" height="832" fill="white" />
          </clipPath>
        </defs>
        <animate
          attributeName="stroke-dashoffset"
          from="4000"
          to="0"
          dur="5s"
          fill="freeze"
          repeatCount="1"
        />
      </svg>
    </div>
          </>
  );
};

export default HeartAnimation;
